<!DOCTYPE html>
<!-- saved from url=(0051)https://bugs.ghostscript.com/show_bug.cgi?id=702387 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>702387 – mutool convert cannot convert from PDF to PDF : unrecoverable error</title>

      

<link href="./702387 – mutool convert cannot convert from PDF to PDF _ unrecoverable error_files/f8d5c9f7a0816126b79f46c4e0a6ddf5.css" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="./702387 – mutool convert cannot convert from PDF to PDF _ unrecoverable error_files/a7c2f3a028f17a9aa60f56dc9d6e732d.js.download"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1000
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: 'ZZDBK6w6Te'
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "702387 – mutool convert cannot convert from PDF to PDF : unrecoverable error",
                             "show_bug.cgi?id=702387" );
        document.title = "702387 – mutool convert cannot convert from PDF to PDF : unrecoverable error";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "702387 – mutool convert cannot convert from PDF to PDF : unrecoverable error", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="./702387 – mutool convert cannot convert from PDF to PDF _ unrecoverable error_files/78b0d9928c58ed4fbe8d18b6c6a1945b.js.download"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml" title="Bugzilla" href="https://bugs.ghostscript.com/search_plugin.cgi">
    <link rel="shortcut icon" href="https://bugs.ghostscript.com/images/favicon.ico">
  </head>

  <body class="bugs-ghostscript-com
                 bz_bug
                 bz_status_UNCONFIRMED
                 bz_product_MuPDF
                 bz_component_mupdf
                 bz_bug_702387 yui-skin-sam">

  <div id="header"><div id="banner">
  </div>

    <div id="titles">
      <span id="title">Bugzilla – Bug&nbsp;702387</span>

        <span id="subtitle" class="subheader">mutool convert cannot convert from PDF to PDF : unrecoverable error</span>

        <span id="information" class="header_addl_info">Last modified: 2020-06-25 05:54:23 UTC</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="https://bugs.ghostscript.com/">Home</a></li>
  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://bugs.ghostscript.com/buglist.cgi" method="get" onsubmit="if (this.quicksearch.value == &#39;&#39;)
                  { alert(&#39;Please enter one or more search terms first.&#39;);
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="1">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" id="find_top"></form>
  <a href="https://bugs.ghostscript.com/page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/report.cgi">Reports</a></li>

  <li></li>


    <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/userprefs.cgi">Preferences</a></li>
<li>
        <span class="separator">| </span>
        <a href="https://bugs.ghostscript.com/docs/en/html/using/understanding.html" target="_blank">Help</a>
      </li>

    <li>
      <span class="separator">| </span>
        <a href="https://bugs.ghostscript.com/index.cgi?logout=1">Log&nbsp;out</a>
        ger@hobbelt.com</li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">

<div class="navigation">
  <b>Bug List:</b>

  (5 of 8)

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=706756&amp;list_id=91315">First</a>

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=688969&amp;list_id=91315">Last</a>

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=703163&amp;list_id=91315">Prev</a>

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=699829&amp;list_id=91315">Next</a>

  &nbsp;&nbsp;<a href="https://bugs.ghostscript.com/buglist.cgi?regetlastlist=91315">Show last search results</a>
  </div>
<script type="text/javascript">
      YAHOO.bugzilla.commentTagging.init(false);
      YAHOO.bugzilla.commentTagging.min_len = 3;
      YAHOO.bugzilla.commentTagging.max_len = 24;
      YAHOO.bugzilla.commentTagging.label = 'Comment Tags:';
      YAHOO.bugzilla.commentTagging.min_len_error =
        'Comment tags must be at least 3 characters.';
      YAHOO.bugzilla.commentTagging.max_len_error =
        'Comment tags cannot be longer than 24 characters.';
    </script>

<script type="text/javascript">
<!--

  /* Index all classifications so we can keep track of the classification
   * for the selected product, which could control field visibility.
   */
  var all_classifications = new Array(14);
      all_classifications['Bug Tracker'] = 'Unclassified';
      all_classifications['ETS'] = 'Unclassified';
      all_classifications['Fonts'] = 'Unclassified';
      all_classifications['GhostPCL'] = 'Unclassified';
      all_classifications['GhostPDL'] = 'Unclassified';
      all_classifications['Ghostscript'] = 'Unclassified';
      all_classifications['GhostXPS'] = 'Unclassified';
      all_classifications['jbig2dec'] = 'Unclassified';
      all_classifications['MuJS'] = 'Unclassified';
      all_classifications['MuPDF'] = 'Unclassified';
      all_classifications['Security - Ghostscript\/GhostPDL'] = 'Unclassified';
      all_classifications['Security - MuPDF\/MuJS'] = 'Unclassified';
      all_classifications['Security - Other'] = 'Unclassified';
      all_classifications['SmartOffice'] = 'Unclassified';
//-->
</script>

<form name="changeform" id="changeform" method="post" action="https://bugs.ghostscript.com/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2020-06-25 05:54:23">
  <input type="hidden" name="id" value="702387">
  <input type="hidden" name="token" value="1686332308-Wpyg6wS4w8Y-BOI8msge8SoFfGlpvEbxUsxjq8x1kc8">
<div class="bz_short_desc_container edit_form"><div class="knob-buttons">
      <input type="submit" value="Save Changes" id="commit_top">
    </div>
     <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387"><b>Bug&nbsp;702387</b></a> <span id="summary_container">
      - <span id="short_desc_nonedit_display">mutool convert cannot convert from PDF to PDF : unrecoverable error</span>
     </span>

    <div id="summary_input" class="bz_default_hidden"><span class="field_label " id="field_label_short_desc">


  <a title="The bug summary is a short sentence which succinctly describes what the bug is about." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#short_desc">Summary:</a>

</span>mutool convert cannot convert from PDF to PDF : unrecoverable error
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'mutool convert cannot convert from PDF to PDF : unrecoverable error' );
  </script>
  <table class="edit_form">
    <tbody><tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tbody><tr>
    <th class="field_label">
      <a href="https://bugs.ghostscript.com/page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">UNCONFIRMED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label " id="field_label_alias">


  <a title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#alias">Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label " id="field_label_product">


  <a title="Bugs are categorised into Products and Components." class="field_help_link" href="https://bugs.ghostscript.com/describecomponents.cgi">Product:</a>

</th>
  <td class="field_value " id="field_container_product">MuPDF

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label " id="field_label_classification">


  <a title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#classification">Classification:</a>

</th>
  <td class="field_value " id="field_container_classification">Unclassified

</td>
    </tr>
        
    
    
    <tr><th class="field_label " id="field_label_component">


  <a title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list." class="field_help_link" href="https://bugs.ghostscript.com/describecomponents.cgi?product=MuPDF">Component:</a>

</th>
  <td class="field_value " id="field_container_component">mupdf

  (<a href="https://bugs.ghostscript.com/buglist.cgi?component=mupdf&amp;product=MuPDF&amp;bug_status=__open__" target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label " id="field_label_version">


  <a title="The version field defines the version of the software the bug was found in." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#version">Version:</a>

</th>
<td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label " id="field_label_rep_platform">


  <a title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#rep_platform">Hardware:</a>

</th>
      <td class="field_value">PC
        Windows 7
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label accesskey="i">
          <a href="https://bugs.ghostscript.com/page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P4
       normal
      </td>
    </tr>
          
          <tr><th class="field_label " id="field_label_assigned_to">


  <a title="The person in charge of resolving the bug." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#assigned_to">Assignee:</a>

</th>
      <td><span class="vcard"><a class="email" href="mailto:mupdf-bugs@artifex.com" title="MuPDF bugs &lt;mupdf-bugs@artifex.com&gt;"> <span class="fn">MuPDF bugs</span></a>
</span>
      </td>
    </tr>

    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'mupdf-bugs\x40artifex.com',
        'tech\x40artifex.com');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label " id="field_label_bug_file_loc">


  <a title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#bug_file_loc">URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>


    <tr><th class="field_label " id="field_label_keywords">


  <a title="You can add keywords from a defined list to bugs, in order to easily identify and group them." class="field_help_link" href="https://bugs.ghostscript.com/describekeywords.cgi">Keywords:</a>

</th>
  <td class="field_value " id="field_container_keywords">

</td>
    </tr>

    <tr><th class="field_label " id="field_label_tag">

    <label for="tag">

  <a title="Unlike Keywords which are global and visible by all users, Personal Tags are personal and can only be viewed and edited by their author. Editing them won&#39;t send any notification to other users. Use them to tag and keep track of bugs." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#tag">Personal Tags:</a>
</label>
</th>
  <td class="field_value " id="field_container_tag">
       <div id="tag_container" class="yui-ac">
         <input type="text" id="tag" size="40" class="text_input yui-ac-input" name="tag" value="" autocomplete="off">
         <div id="tag_autocomplete" class="yui-ac-container"><div class="yui-ac-content" style="display: none;"><div class="yui-ac-hd" style="display: none;"></div><div class="yui-ac-bd"><ul><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li></ul></div><div class="yui-ac-ft" style="display: none;"></div></div></div>
       </div>
       <script type="text/javascript">
         if (typeof YAHOO.bugzilla.field_array === "undefined")
           YAHOO.bugzilla.field_array = [];
         YAHOO.bugzilla.field_array["tag"] = [];
         YAHOO.bugzilla.fieldAutocomplete.init('tag',
                                               'tag_autocomplete');
       </script>

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label " id="field_label_dependson">


  <a title="The bugs listed here must be resolved before this bug can be resolved." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#dependson">Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label " id="field_label_blocked">


  <a title="This bug must be resolved before the bugs listed in this field can be resolved." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#blocked">Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </tbody></table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tbody><tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2020-05-10 17:05 UTC by <span class="vcard"><a class="email" href="mailto:hakan.usakli@gmail.com" title="Hakan &lt;hakan.usakli@gmail.com&gt;"> <span class="fn">Hakan</span></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2020-06-25 05:54 UTC
      (<a href="https://bugs.ghostscript.com/show_activity.cgi?id=702387">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">
          CC List:
        </label>
      </th>
      <td>
            <input type="checkbox" id="addselfcc" name="addselfcc" checked="checked">
            <label for="addselfcc">Add me to CC list</label>
            <br> 0 
          users
          <span id="cc_edit_area_showhide_container">
            (<a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" id="cc_edit_area_showhide">edit</a>)
          </span>
        <div id="cc_edit_area" class="bz_default_hidden">
          <br>
            <div>
              <div><label for="cc"><b>Add</b></label></div><div id="newcc_autocomplete" class="bz_userfield yui-ac">  
  <input name="newcc" value="" class="bz_userfield yui-ac-input" size="30" id="newcc" autocomplete="off">
    <div id="newcc_autocomplete_container" class="yui-ac-container"><div class="yui-ac-content" style="display: none;"><div class="yui-ac-hd" style="display: none;"></div><div class="yui-ac-bd"><ul><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li><li style="display: none;"></li></ul></div><div class="yui-ac-ft" style="display: none;"></div></div></div>
    </div>  
    <script type="text/javascript">
      if( typeof(YAHOO.bugzilla.userAutocomplete) !== 'undefined' 
          && YAHOO.bugzilla.userAutocomplete != null){
        YAHOO.bugzilla.userAutocomplete.init( "newcc", 
                    "newcc_autocomplete_container", true);        
      }
    </script>
            </div>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
<tr>
      <th class="field_label">
        <label for="bug_ignored" title="Ignore all email for this bug">
          Ignore Bug Mail:
        </label>
      </th>
      <td>
        <input type="hidden" name="defined_bug_ignored" value="1">
        <span title="You will still receive emails for flag requests directed at you.">
          <input type="checkbox" name="bug_ignored" id="bug_ignored" value="1">
          (never email me about this bug)
        </span>
      </td>
    </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label " id="field_label_see_also">


  <a title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the &#39;Add Bug URLs&#39; field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#see_also">See Also:</a>

</th>
  <td class="field_value " id="field_container_see_also">

</td>
    </tr> 
<tr>
      <th class="field_label " id="field_label_cf_customer">


  <a title="A custom Free Text field in this installation of Bugzilla." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#cf_customer">Customer:</a>

</th>
  <td class="field_value " id="field_container_cf_customer">

</td>
    </tr>
    <tr>
      <th class="field_label " id="field_label_cf_wordsize">


  <a title="For example x86 would be 32 and x86_64 would be 64." class="field_help_link" href="https://bugs.ghostscript.com/page.cgi?id=fields.html#cf_wordsize">Word Size:</a>

</th>
  <td class="field_value " id="field_container_cf_wordsize">---

</td>
    </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </tbody></table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </tbody></table>

  <table id="bz_big_form_parts">
  <tbody><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tbody><tr id="a0">
    <th colspan="2" class="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="https://bugs.ghostscript.com/attachment.cgi?bugid=702387&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</tbody></table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <label for="comment" accesskey="c"><b>Additional 
        <u>C</u>omments</b></label>:


      <!-- This table keeps the submit button aligned with the box. -->
      <table><tbody><tr><td><div id="comment_tabs" role="tablist">
    <div id="comment_tab" class="comment_tab active_comment_tab" role="tab" aria-selected="true" onclick="show_comment_edit()">Comment</div>
    <div id="comment_preview_tab" class="comment_tab" role="tab" aria-selected="false" onclick="show_comment_preview(702387)">Preview</div>
  </div>
<textarea name="comment" id="comment" rows="10" cols="80" onfocus="this.rows=25"></textarea>

  <div id="comment_preview" class="bz_default_hidden bz_comment">
    <div id="comment_preview_loading" class="bz_default_hidden">Generating Preview...</div>
    <div id="comment_preview_error" class="bz_default_hidden"></div>
    <pre id="comment_preview_text" class="bz_comment_text"></pre>
  </div>
        <br><div class="knob-buttons">
      <input type="submit" value="Save Changes" id="commit">
    </div>


        <table id="bug_status_bottom" class="status">
          <tbody><tr>
            <th class="field_label">
              <a href="https://bugs.ghostscript.com/page.cgi?id=fields.html#bug_status">Status</a>:
            </th>
            <td><div id="status">UNCONFIRMED


  <span id="resolution_settings">
  </span>

</div>

<script type="text/javascript">
  var close_status_array = [
  ];
  YAHOO.util.Dom.removeClass('dup_id_discoverable', 'bz_default_hidden');
  hideEditableField( "dup_id_container", "dup_id", 'dup_id_edit_action',
                     'dup_id', '' )
  showHideStatusItems( "",  ['',
                             'UNCONFIRMED']);
  YAHOO.util.Event.addListener( 'bug_status', "change", showHideStatusItems,
                                ['',
                                 'UNCONFIRMED']);
  YAHOO.util.Event.addListener( 'resolution', "change", showDuplicateItem);
  YAHOO.util.Event.addListener( 'dup_id_discoverable_action',
                                'click',
                                setResolutionToDuplicate,
                                'RESOLVED');
  YAHOO.util.Event.addListener( window, 'load',  showHideStatusItems,
                              ['',
                               'UNCONFIRMED'] );

</script>
            </td>
          </tr>
        </tbody></table>
      </td></tr></tbody></table>

    
  </div>
  </td>
  <td>
  </td>
  </tr></tbody></table>

  
  <div id="comments"><script src="./702387 – mutool convert cannot convert from PDF to PDF _ unrecoverable error_files/comments.js.download" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tbody><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;0&#39;, &#39;87525&#39;, &#39;Hakan&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(0, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_0" onclick="toggle_comment_display(this, 0); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:hakan.usakli@gmail.com" title="Hakan &lt;hakan.usakli@gmail.com&gt;"> <span class="fn">Hakan</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-05-10 17:05:39 UTC
        </span>

      </div>


        <div id="comment_tag_0" class="bz_comment_tags">
          <span id="ct_0" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_0">Hello,

this command line

mutool convert -o "output.pdf" -F pdf "plan06.pdf"

results in

error: only Gray, RGB, and CMYK colorspaces supporte
warning: unrecoverable error; ignoring rest of page

<a href="https://www.dropbox.com/s/9oiacsqi63swsrw/plan06.pdf?dl=0">https://www.dropbox.com/s/9oiacsqi63swsrw/plan06.pdf?dl=0</a>

other files work extremely fast and well.
rendering with mutool draw at 300dpi works fairly fast as well

I suspect it has something to do with the large gradient but I am not sure
Is there any way to write a 'clean' vector PDF from this original?

thank you kindly</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;1&#39;, &#39;88229&#39;, &#39;Hakan&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(1, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_1" onclick="toggle_comment_display(this, 1); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:hakan.usakli@gmail.com" title="Hakan &lt;hakan.usakli@gmail.com&gt;"> <span class="fn">Hakan</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-24 09:03:18 UTC
        </span>

      </div>


        <div id="comment_tag_1" class="bz_comment_tags">
          <span id="ct_1" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_1">I tested the file with current release 1.17.0

Only this warning message is displayed
warning: cannot create ToUnicode mapping for SSSDOY+ArialMT

however the output file is unusable. Content, graphics and gradients from the original disappeared without a warning. Very dangerous!

Dropbox link updated. Old link no longer valid.
<a href="https://www.dropbox.com/s/gzdumep2kp8mmiv/Plan%2006.pdf?dl=0">https://www.dropbox.com/s/gzdumep2kp8mmiv/Plan%2006.pdf?dl=0</a>

thanks</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;2&#39;, &#39;88230&#39;, &#39;Tor Andersson&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(2, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_2" onclick="toggle_comment_display(this, 2); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:tor.andersson@artifex.com" title="Tor Andersson &lt;tor.andersson@artifex.com&gt;"> <span class="fn">Tor Andersson</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-24 12:07:36 UTC
        </span>

      </div>


        <div id="comment_tag_2" class="bz_comment_tags">
          <span id="ct_2" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_2">The PDF output from mutool convert is limited in capability. Things like advanced transparency and gradients are not guaranteed to convert accurately.

If you already have a PDF file, why do you need to convert it to PDF?

Running a PDF file through 'mutool convert' is guaranteed to lose some information, as we only try to preserve the graphics and everything else is lost (such as links, annotations, table of contents, other metadata, text searchability, etc).

Please define what you mean by "clean" vector PDF, and what is wrong with the input file that you are trying to fix.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;4&#39;, &#39;88232&#39;, &#39;Hakan&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(4, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_4" onclick="toggle_comment_display(this, 4); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:hakan.usakli@gmail.com" title="Hakan &lt;hakan.usakli@gmail.com&gt;"> <span class="fn">Hakan</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-24 12:25:55 UTC
        </span>

      </div>


        <div id="comment_tag_4" class="bz_comment_tags">
          <span id="ct_4" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_4">(In reply to Tor Andersson from <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c2">comment #2</a>)
<span class="quote">&gt; The PDF output from mutool convert is limited in capability. Things like
&gt; advanced transparency and gradients are not guaranteed to convert accurately.</span>

Understood.

<span class="quote">&gt; 
&gt; If you already have a PDF file, why do you need to convert it to PDF?
&gt; 
&gt; Running a PDF file through 'mutool convert' is guaranteed to lose some
&gt; information, as we only try to preserve the graphics and everything else is
&gt; lost (such as links, annotations, table of contents, other metadata, text
&gt; searchability, etc).</span>

As long as all printable Graphics/Text objects are preserved it is fine. I use mutool convert succesfully many times for files that are not exactly following the PDF-Spec and have strange behaviour. PDF gets decomressed, parsed and re-written by mutool. It works in many cases.

<span class="quote">&gt; 
&gt; Please define what you mean by "clean" vector PDF, and what is wrong with
&gt; the input file that you are trying to fix.</span>

Attempting to Print the file with latest version of Acrobat Reader DC to a HP PageWide or Canon TX series driver (both are largeformat devices) results in Acrobat Reader giving up and showing 'an error occured while printing the document' The file cannot be printed. 
Driver can be configured to output to PRN file, it does not matter.

My goal was to have mutool decompress &amp; parse all graphics objects and have it rewrite the pdf - hence the PDF to PDF conversion, hopefully in a way that prevents the error in Acrobat Reader.

In the meantime I have located other (non-Adobe) Software that handles these gradients perfectly fine and prints the file without any problems, with very little overhead and almost no 'flattening'.

If this issue is too specific, and since I have a workaround, I understand if the status is changed to 'WONTFIX'. My goal by posting here was to see if mutool can be improved as well for future and for others too.

thanks</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;5&#39;, &#39;88233&#39;, &#39;Ken Sharp&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(5, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_5" onclick="toggle_comment_display(this, 5); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:ken.sharp@artifex.com" title="Ken Sharp &lt;ken.sharp@artifex.com&gt;"> <span class="fn">Ken Sharp</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-24 12:28:10 UTC
        </span>

      </div>


        <div id="comment_tag_5" class="bz_comment_tags">
          <span id="ct_5" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_5">Tor you probably want to look at the history in this bug report:

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed" title="RESOLVED WONTFIX - inefficient pdf gradient or transparency handling = very long processing time" href="https://bugs.ghostscript.com/show_bug.cgi?id=702386">https://bugs.ghostscript.com/show_bug.cgi?id=702386</a>

I think its the same file and the file is constructed in, frankly, a bizarre fashion which results in it being very slow. He's looking for a way to make it faster I suspect. Which would mean rewriting the content in a sensible fashion, which isn't (IMO) going to be feasible.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;6&#39;, &#39;88234&#39;, &#39;Hakan&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(6, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_6" onclick="toggle_comment_display(this, 6); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:hakan.usakli@gmail.com" title="Hakan &lt;hakan.usakli@gmail.com&gt;"> <span class="fn">Hakan</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-24 12:36:13 UTC
        </span>

      </div>


        <div id="comment_tag_6" class="bz_comment_tags">
          <span id="ct_6" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_6">maybe worth noting;
according to the document properties the file is produced by Adobe's own PDF Library version 10.1; from a CAD Application named 'Allplan 2019'

Yes @Ken Sharp - it is the same file. 2 seperate issues
Issue 1 = Rasterization with Ghostscript @300/400dpi  - extremely slow
Issue 2 = Vector to Vector 'cleanup attempt' Keep file as Vector and Print

Interestingly, Rasterization with mutool draw is fine.
I have workarounds in place for both cases with other software. I am in no rush for a fix for myself.
thanks</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;7&#39;, &#39;88237&#39;, &#39;Tor Andersson&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(7, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_7" onclick="toggle_comment_display(this, 7); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:tor.andersson@artifex.com" title="Tor Andersson &lt;tor.andersson@artifex.com&gt;"> <span class="fn">Tor Andersson</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-24 15:56:43 UTC
        </span>

      </div>


        <div id="comment_tag_7" class="bz_comment_tags">
          <span id="ct_7" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_7">You can do some cleanups with "mutool clean" to work around broken syntax in PDF files. Maybe not relevant for this file, but something you may want to be aware of for other cases. The '-c' and '-s' options are the ones to look at, both clean up the graphics content streams in various degrees. They won't change how or what is drawn, but can fix syntax and some other minor errors.

The -c option will not change the graphics commands, but will parse and rewrite the commands as it sees them, so syntax errors will be fixed as a side effect.

The -s option will try to optimize state changes, but should not change the appearance.</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">
          <span class="bz_comment_actions">
              [<a class="bz_reply_link" href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#add_comment" onclick="replyToComment(&#39;8&#39;, &#39;88246&#39;, &#39;Hakan&#39;); return false;">reply</a>]
            <script type="text/javascript">
              addCollapseLink(8, 0, 'Toggle comment display');
            </script> <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" class="bz_collapse_comment" id="comment_link_8" onclick="toggle_comment_display(this, 8); return false;" title="Toggle comment display">[−]</a> 
          </span>


        <span class="bz_comment_number">
          <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><a class="email" href="mailto:hakan.usakli@gmail.com" title="Hakan &lt;hakan.usakli@gmail.com&gt;"> <span class="fn">Hakan</span></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-06-25 05:54:23 UTC
        </span>

      </div>


        <div id="comment_tag_8" class="bz_comment_tags">
          <span id="ct_8" class="bz_default_hidden">
          </span>
        </div>


<pre class="bz_comment_text" id="comment_text_8">(In reply to Tor Andersson from <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#c7">comment #7</a>)
<span class="quote">&gt; You can do some cleanups with "mutool clean" to work around broken syntax in
&gt; PDF files. Maybe not relevant for this file, but something you may want to
&gt; be aware of for other cases. The '-c' and '-s' options are the ones to look
&gt; at, both clean up the graphics content streams in various degrees. They
&gt; won't change how or what is drawn, but can fix syntax and some other minor
&gt; errors.
&gt; 
&gt; The -c option will not change the graphics commands, but will parse and
&gt; rewrite the commands as it sees them, so syntax errors will be fixed as a
&gt; side effect.
&gt; 
&gt; The -s option will try to optimize state changes, but should not change the
&gt; appearance.</span>

Yes, I use the -c and -s options with success on many files. They are excellent options for poorly created PDF files. They have no impact in this case for this file.</pre>
    </div>

  <div class="bz_add_comment">
    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" onclick="return goto_add_comments();">
       Add Comment</a>
  </div>

  

</td>
<td>
    <ul class="bz_collapse_expand_comments">
      <li><a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" onclick="toggle_all_comments(&#39;collapse&#39;);
                               return false;">Collapse All Comments</a></li>
      <li><a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#" onclick="toggle_all_comments(&#39;expand&#39;);
                               return false;">Expand All Comments</a></li>
        <li><div id="comment_tags_collapse_expand_container"></div></li>
    </ul>
</td>
</tr></tbody></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="https://bugs.ghostscript.com/show_bug.cgi?format=multiple&amp;id=702387">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="https://bugs.ghostscript.com/show_bug.cgi?ctype=xml&amp;id=702387">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="https://bugs.ghostscript.com/enter_bug.cgi?cloned_bug_id=702387">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="https://bugs.ghostscript.com/show_bug.cgi?id=702387#">Top of page </a></li>
    </ul>

  <div class="navigation">
  <b>Bug List:</b>

  (5 of 8)

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=706756&amp;list_id=91315">First</a>

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=688969&amp;list_id=91315">Last</a>

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=703163&amp;list_id=91315">Prev</a>

    <a href="https://bugs.ghostscript.com/show_bug.cgi?id=699829&amp;list_id=91315">Next</a>

  &nbsp;&nbsp;<a href="https://bugs.ghostscript.com/buglist.cgi?regetlastlist=91315">Show last search results</a>
  </div>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="https://bugs.ghostscript.com/">Home</a></li>
  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://bugs.ghostscript.com/buglist.cgi" method="get" onsubmit="if (this.quicksearch.value == &#39;&#39;)
                  { alert(&#39;Please enter one or more search terms first.&#39;);
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="1">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" id="find_bottom"></form>
  <a href="https://bugs.ghostscript.com/page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/report.cgi">Reports</a></li>

  <li></li>


    <li><span class="separator">| </span><a href="https://bugs.ghostscript.com/userprefs.cgi">Preferences</a></li>
<li>
        <span class="separator">| </span>
        <a href="https://bugs.ghostscript.com/docs/en/html/using/understanding.html" target="_blank">Help</a>
      </li>

    <li>
      <span class="separator">| </span>
        <a href="https://bugs.ghostscript.com/index.cgi?logout=1">Log&nbsp;out</a>
        ger@hobbelt.com</li>
</ul>
  </li>

  

    <li id="links-saved">
      <ul class="links">
          <li>
            <a href="https://bugs.ghostscript.com/buglist.cgi?resolution=---&amp;emailassigned_to1=1&amp;emailreporter1=1&amp;emailtype1=exact&amp;email1=ger%40hobbelt.com">My Bugs</a>
          </li>

      </ul>
    </li>



  
</ul>

      <div class="outro"></div>
    </div>

  
</body></html>